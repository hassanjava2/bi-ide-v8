# ======================================
# BI IDE v8 - Environment Configuration
# ======================================
# Copy this to .env and change values!
# cp .env.example .env

# App Configuration
APP_NAME=BI IDE
APP_VERSION=8.0.0
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# Server Configuration
HOST=0.0.0.0
PORT=8000
WORKERS=1

# Database Configuration
# For SQLite (Development):
DATABASE_URL=sqlite+aiosqlite:///./data/bi_ide.db
# For PostgreSQL (Production):
# DATABASE_URL=postgresql+asyncpg://bi_ide_user:STRONG_PASSWORD_HERE@localhost:5432/bi_ide

# Redis/Cache Configuration
REDIS_URL=redis://localhost:6379/0
CACHE_ENABLED=true
CACHE_TTL=3600

# AI/ML Configuration
# RTX4090_HOST=192.168.68.125
# RTX4090_PORT=8080

# RTX 4090 Retry Configuration (Exponential Backoff)
# Number of retry attempts when connection to RTX 4090 fails
RTX4090_MAX_RETRIES=3

# Initial delay between retry attempts (seconds)
RTX4090_RETRY_DELAY=1.0

# Exponential backoff multiplier (delay doubles with each retry: 1s, 2s, 4s...)
RTX4090_RETRY_BACKOFF=2.0

# Maximum delay cap between retries (seconds)
RTX4090_RETRY_MAX_DELAY=30.0

# Add random jitter (±25%) to prevent thundering herd problem
RTX4090_RETRY_JITTER=true

# AI Core Configuration
# AI_CORE_HOST=192.168.68.125
# AI_CORE_PORTS=8080,8081,8082

# ⚠️ SECURITY — CHANGE THESE IN PRODUCTION!
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY=CHANGE_ME_IN_PRODUCTION_USE_SECRETS_TOKEN
ADMIN_PASSWORD=CHANGE_THIS_PASSWORD
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# CORS — comma-separated allowed origins
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# Paths Configuration
DATA_DIR=./data
LEARNING_DATA_DIR=./learning_data
LOGS_DIR=./logs

# Feature Flags
ENABLE_SMART_COUNCIL=true
ENABLE_AUTONOMOUS_LEARNING=true
ENABLE_COUNCIL_DISCUSSIONS=true
ENABLE_CODE_ANALYSIS=true

# Monitoring Configuration
ENABLE_METRICS=true
METRICS_PORT=9090
PROMETHEUS_ENABLED=true

# External API Keys (Optional)
# OPENAI_API_KEY=sk-...
# ANTHROPIC_API_KEY=sk-...
# HUGGINGFACE_TOKEN=hf_...

# Orchestrator Configuration
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
ORCHESTRATOR_TOKEN=CHANGE_THIS_TOKEN
ORCHESTRATOR_HEARTBEAT_TIMEOUT_SEC=45

# Checkpoint Sync
AUTO_SYNC_CHECKPOINTS=1
AUTO_SYNC_INTERVAL_SEC=60
MIN_CHECKPOINT_SIZE_MB=1
